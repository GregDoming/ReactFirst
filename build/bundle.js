module.exports=function(e){var n={};function c(t){if(n[t])return n[t].exports;var i=n[t]={i:t,l:!1,exports:{}};return e[t].call(i.exports,i,i.exports,c),i.l=!0,i.exports}return c.m=e,c.c=n,c.d=function(e,n,t){c.o(e,n)||Object.defineProperty(e,n,{enumerable:!0,get:t})},c.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},c.t=function(e,n){if(1&n&&(e=c(e)),8&n)return e;if(4&n&&"object"==typeof e&&e&&e.__esModule)return e;var t=Object.create(null);if(c.r(t),Object.defineProperty(t,"default",{enumerable:!0,value:e}),2&n&&"string"!=typeof e)for(var i in e)c.d(t,i,function(n){return e[n]}.bind(null,i));return t},c.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return c.d(n,"a",n),n},c.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},c.p="/build",c(c.s=0)}([function(module,exports,__webpack_require__){eval('var React = __webpack_require__(1);\n\nvar ReactDOMServer = __webpack_require__(2);\n\nvar _require = __webpack_require__(3),\n    StaticRouter = _require.StaticRouter;\n\nvar fs = __webpack_require__(4);\n\nvar config = {}; // userInput is the user information retrieved from the CLI\n\nvar init = function init(userInput) {\n  // html is the path of the HTML file where the React components are rendered\n  config.html = userInput.html; // App is the path of the top level parent component\n\n  config.App = userInput.App; // id is the id attribute on the div that the React components are rendered on\n\n  config.id = userInput.id;\n  return config;\n};\n\nvar serve = function serve(req, res) {\n  var App = config.App; // context must be passed to StaticRouter on the server side\n\n  var context = {}; // use StaticRouter on the server side and BrowserRouter on the client side\n\n  var ssrComponent = ReactDOMServer.renderToString(React.createElement(StaticRouter, {\n    location: req.url,\n    context: context\n  }, React.createElement(App, null))); // redirecting handler for React Router\n\n  if (context.url) {\n    res.status = 302;\n    res.redirect(context.url);\n  } else {\n    // read from the html file specified by the user\n    fs.readFile(config.html, \'utf-8\', function (err, data) {\n      if (err) throw err;\n      /*\n        (?<=<div id="x">)(.*?)(?=<\\/div>)\n        this regular expression selects all content within the div with an id of "x"\n        (?<= x) specifies the starting point for the regEx match\n          - in this case, it looks for all content after <div id="x">\n        (?=<\\/div>) specifies the ending point for the regEx match\n          - in this case, it stops at a closing div tag (</div>)\n          - the \'\\\' is an escape character\n        (.*?) specifies to stop on the first match specified by (?=)\n          - in this case, it will stop on the first </div> it encounters\n      */\n\n      var regEx = new RegExp("(?<=<div id=\\"".concat(config.id, "\\">)(.*?)(?=</div>)")); // find the contents of the div with the id specified by the user\n      // match returns an array that matches the regex, join is to turn it back into a string\n\n      var inner = data.match(regEx).join(\'\'); // finds the div with config.id and all of its inner contents\n\n      var innerRegEx = new RegExp("<div id=\\"".concat(config.id, "\\">").concat(inner, "</div>")); // replaces the contents of the div with the SSR component\n\n      var document = data.replace(innerRegEx, "<div id=\\"".concat(config.id, "\\">").concat(ssrComponent, "</div>"));\n      res.write(document);\n      res.end();\n    });\n  }\n};\n\nmodule.exports = {\n  init: init,\n  serve: serve\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMC5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL3NyYy9pbmRleC5qcz8zNzAwIl0sInNvdXJjZXNDb250ZW50IjpbInZhciBSZWFjdCA9IHJlcXVpcmUoJ3JlYWN0Jyk7XG5cbnZhciBSZWFjdERPTVNlcnZlciA9IHJlcXVpcmUoJ3JlYWN0LWRvbS9zZXJ2ZXInKTtcblxudmFyIF9yZXF1aXJlID0gcmVxdWlyZSgncmVhY3Qtcm91dGVyLWRvbScpLFxuICAgIFN0YXRpY1JvdXRlciA9IF9yZXF1aXJlLlN0YXRpY1JvdXRlcjtcblxudmFyIGZzID0gcmVxdWlyZSgnZnMnKTtcblxudmFyIGNvbmZpZyA9IHt9OyAvLyB1c2VySW5wdXQgaXMgdGhlIHVzZXIgaW5mb3JtYXRpb24gcmV0cmlldmVkIGZyb20gdGhlIENMSVxuXG52YXIgaW5pdCA9IGZ1bmN0aW9uIGluaXQodXNlcklucHV0KSB7XG4gIC8vIGh0bWwgaXMgdGhlIHBhdGggb2YgdGhlIEhUTUwgZmlsZSB3aGVyZSB0aGUgUmVhY3QgY29tcG9uZW50cyBhcmUgcmVuZGVyZWRcbiAgY29uZmlnLmh0bWwgPSB1c2VySW5wdXQuaHRtbDsgLy8gQXBwIGlzIHRoZSBwYXRoIG9mIHRoZSB0b3AgbGV2ZWwgcGFyZW50IGNvbXBvbmVudFxuXG4gIGNvbmZpZy5BcHAgPSB1c2VySW5wdXQuQXBwOyAvLyBpZCBpcyB0aGUgaWQgYXR0cmlidXRlIG9uIHRoZSBkaXYgdGhhdCB0aGUgUmVhY3QgY29tcG9uZW50cyBhcmUgcmVuZGVyZWQgb25cblxuICBjb25maWcuaWQgPSB1c2VySW5wdXQuaWQ7XG4gIHJldHVybiBjb25maWc7XG59O1xuXG52YXIgc2VydmUgPSBmdW5jdGlvbiBzZXJ2ZShyZXEsIHJlcykge1xuICB2YXIgQXBwID0gY29uZmlnLkFwcDsgLy8gY29udGV4dCBtdXN0IGJlIHBhc3NlZCB0byBTdGF0aWNSb3V0ZXIgb24gdGhlIHNlcnZlciBzaWRlXG5cbiAgdmFyIGNvbnRleHQgPSB7fTsgLy8gdXNlIFN0YXRpY1JvdXRlciBvbiB0aGUgc2VydmVyIHNpZGUgYW5kIEJyb3dzZXJSb3V0ZXIgb24gdGhlIGNsaWVudCBzaWRlXG5cbiAgdmFyIHNzckNvbXBvbmVudCA9IFJlYWN0RE9NU2VydmVyLnJlbmRlclRvU3RyaW5nKFJlYWN0LmNyZWF0ZUVsZW1lbnQoU3RhdGljUm91dGVyLCB7XG4gICAgbG9jYXRpb246IHJlcS51cmwsXG4gICAgY29udGV4dDogY29udGV4dFxuICB9LCBSZWFjdC5jcmVhdGVFbGVtZW50KEFwcCwgbnVsbCkpKTsgLy8gcmVkaXJlY3RpbmcgaGFuZGxlciBmb3IgUmVhY3QgUm91dGVyXG5cbiAgaWYgKGNvbnRleHQudXJsKSB7XG4gICAgcmVzLnN0YXR1cyA9IDMwMjtcbiAgICByZXMucmVkaXJlY3QoY29udGV4dC51cmwpO1xuICB9IGVsc2Uge1xuICAgIC8vIHJlYWQgZnJvbSB0aGUgaHRtbCBmaWxlIHNwZWNpZmllZCBieSB0aGUgdXNlclxuICAgIGZzLnJlYWRGaWxlKGNvbmZpZy5odG1sLCAndXRmLTgnLCBmdW5jdGlvbiAoZXJyLCBkYXRhKSB7XG4gICAgICBpZiAoZXJyKSB0aHJvdyBlcnI7XG4gICAgICAvKlxuICAgICAgICAoPzw9PGRpdiBpZD1cInhcIj4pKC4qPykoPz08XFwvZGl2PilcbiAgICAgICAgdGhpcyByZWd1bGFyIGV4cHJlc3Npb24gc2VsZWN0cyBhbGwgY29udGVudCB3aXRoaW4gdGhlIGRpdiB3aXRoIGFuIGlkIG9mIFwieFwiXG4gICAgICAgICg/PD0geCkgc3BlY2lmaWVzIHRoZSBzdGFydGluZyBwb2ludCBmb3IgdGhlIHJlZ0V4IG1hdGNoXG4gICAgICAgICAgLSBpbiB0aGlzIGNhc2UsIGl0IGxvb2tzIGZvciBhbGwgY29udGVudCBhZnRlciA8ZGl2IGlkPVwieFwiPlxuICAgICAgICAoPz08XFwvZGl2Pikgc3BlY2lmaWVzIHRoZSBlbmRpbmcgcG9pbnQgZm9yIHRoZSByZWdFeCBtYXRjaFxuICAgICAgICAgIC0gaW4gdGhpcyBjYXNlLCBpdCBzdG9wcyBhdCBhIGNsb3NpbmcgZGl2IHRhZyAoPC9kaXY+KVxuICAgICAgICAgIC0gdGhlICdcXCcgaXMgYW4gZXNjYXBlIGNoYXJhY3RlclxuICAgICAgICAoLio/KSBzcGVjaWZpZXMgdG8gc3RvcCBvbiB0aGUgZmlyc3QgbWF0Y2ggc3BlY2lmaWVkIGJ5ICg/PSlcbiAgICAgICAgICAtIGluIHRoaXMgY2FzZSwgaXQgd2lsbCBzdG9wIG9uIHRoZSBmaXJzdCA8L2Rpdj4gaXQgZW5jb3VudGVyc1xuICAgICAgKi9cblxuICAgICAgdmFyIHJlZ0V4ID0gbmV3IFJlZ0V4cChcIig/PD08ZGl2IGlkPVxcXCJcIi5jb25jYXQoY29uZmlnLmlkLCBcIlxcXCI+KSguKj8pKD89PC9kaXY+KVwiKSk7IC8vIGZpbmQgdGhlIGNvbnRlbnRzIG9mIHRoZSBkaXYgd2l0aCB0aGUgaWQgc3BlY2lmaWVkIGJ5IHRoZSB1c2VyXG4gICAgICAvLyBtYXRjaCByZXR1cm5zIGFuIGFycmF5IHRoYXQgbWF0Y2hlcyB0aGUgcmVnZXgsIGpvaW4gaXMgdG8gdHVybiBpdCBiYWNrIGludG8gYSBzdHJpbmdcblxuICAgICAgdmFyIGlubmVyID0gZGF0YS5tYXRjaChyZWdFeCkuam9pbignJyk7IC8vIGZpbmRzIHRoZSBkaXYgd2l0aCBjb25maWcuaWQgYW5kIGFsbCBvZiBpdHMgaW5uZXIgY29udGVudHNcblxuICAgICAgdmFyIGlubmVyUmVnRXggPSBuZXcgUmVnRXhwKFwiPGRpdiBpZD1cXFwiXCIuY29uY2F0KGNvbmZpZy5pZCwgXCJcXFwiPlwiKS5jb25jYXQoaW5uZXIsIFwiPC9kaXY+XCIpKTsgLy8gcmVwbGFjZXMgdGhlIGNvbnRlbnRzIG9mIHRoZSBkaXYgd2l0aCB0aGUgU1NSIGNvbXBvbmVudFxuXG4gICAgICB2YXIgZG9jdW1lbnQgPSBkYXRhLnJlcGxhY2UoaW5uZXJSZWdFeCwgXCI8ZGl2IGlkPVxcXCJcIi5jb25jYXQoY29uZmlnLmlkLCBcIlxcXCI+XCIpLmNvbmNhdChzc3JDb21wb25lbnQsIFwiPC9kaXY+XCIpKTtcbiAgICAgIHJlcy53cml0ZShkb2N1bWVudCk7XG4gICAgICByZXMuZW5kKCk7XG4gICAgfSk7XG4gIH1cbn07XG5cbm1vZHVsZS5leHBvcnRzID0ge1xuICBpbml0OiBpbml0LFxuICBzZXJ2ZTogc2VydmVcbn07Il0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///0\n')},function(module,exports){eval('module.exports = require("react");//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMS5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy9leHRlcm5hbCBcInJlYWN0XCI/NTg4ZSJdLCJzb3VyY2VzQ29udGVudCI6WyJtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCJyZWFjdFwiKTsiXSwibWFwcGluZ3MiOiJBQUFBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///1\n')},function(module,exports){eval('module.exports = require("react-dom/server");//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMi5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy9leHRlcm5hbCBcInJlYWN0LWRvbS9zZXJ2ZXJcIj85NDM5Il0sInNvdXJjZXNDb250ZW50IjpbIm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZShcInJlYWN0LWRvbS9zZXJ2ZXJcIik7Il0sIm1hcHBpbmdzIjoiQUFBQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///2\n')},function(module,exports){eval('module.exports = require("react-router-dom");//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy9leHRlcm5hbCBcInJlYWN0LXJvdXRlci1kb21cIj81M2I5Il0sInNvdXJjZXNDb250ZW50IjpbIm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZShcInJlYWN0LXJvdXRlci1kb21cIik7Il0sIm1hcHBpbmdzIjoiQUFBQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///3\n')},function(module,exports){eval('module.exports = require("fs");//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNC5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy9leHRlcm5hbCBcImZzXCI/YTQwZCJdLCJzb3VyY2VzQ29udGVudCI6WyJtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCJmc1wiKTsiXSwibWFwcGluZ3MiOiJBQUFBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///4\n')}]);